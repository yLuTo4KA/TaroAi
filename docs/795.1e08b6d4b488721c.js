"use strict";(self.webpackChunkproject_x2=self.webpackChunkproject_x2||[]).push([[795],{7795:(br,Ct,h)=>{h.r(Ct),h.d(Ct,{RankingModule:()=>mr});var w=h(6814),_e=h(3016),Et=h(2253),r=h(4946),ge=h(304),E=h(9862),Tt=h(9413);let J=(()=>{class e{constructor(n){this.http=n,this.apiUrl=Tt.N.baseUrl}get(n){const i=this.getHeaders();return this.http.get(`${this.apiUrl}/${n}`,i)}post(n,i){const o=this.getHeaders();return this.http.post(`${this.apiUrl}/${n}`,i,o)}put(n,i){return this.http.put(`${this.apiUrl}/${n}`,i,{})}delete(n){const i=this.getHeaders();return this.http.delete(`${this.apiUrl}/${n}`,i)}download(n){return this.http.get(`${this.apiUrl}/${n}`,{responseType:"blob"})}uploadDownload(n,i){return this.http.post(`${this.apiUrl}/${n}`,i,{responseType:"blob"})}generateQueryParams(n){let i=new E.LE;return Object.entries(n).filter(([o,s])=>typeof s<"u"&&null!==s).map(([o,s])=>i=i.set(o,s)),i.toString()}getHeaders(){return{headers:new E.WM({"Content-Type":"application/json"})}}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG(E.eN))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var M=h(7398);let me=(()=>{class e extends J{constructor(n){super(n),this.urlPath="leaderboard"}getAllLeaderboard(){return this.get(`${this.urlPath}/all-time`).pipe((0,M.U)(i=>g.fromArrayJson(i.leaderbord)))}getWeekLeaderboard(){return this.get(`${this.urlPath}/week`).pipe((0,M.U)(i=>{const o=g.fromArrayJson(i.leaderbord);return console.log(o),o}))}getMonthLeaderboard(){return this.get(`${this.urlPath}/month`).pipe((0,M.U)(i=>g.fromArrayJson(i.leaderbord)))}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG(E.eN))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var G=h(6306),z=h(4716),fe=h(5592),be=h(7453),ye=h(4829),ve=h(4564),we=h(8251),ke=h(7400),xe=h(2714),Ce=h(6232);function Ot(e,t,n,i,o,s,a){try{var c=e[s](a),l=c.value}catch(_){return void n(_)}c.done?t(l):Promise.resolve(l).then(i,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function a(l){Ot(s,i,o,a,c,"next",l)}function c(l){Ot(s,i,o,a,c,"throw",l)}a(void 0)})}}var Ee=Object.defineProperty,p=(e,t,n)=>(((e,t,n)=>{t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Mt(e,t){let n;const i=()=>{void 0!==n&&t&&t(n),n=void 0};return[()=>void 0===n?n=e(i):n,i]}const Q=new class Me{constructor(t,n={}){this.scope=t,this.options=n}print(t,...n){const i=new Date,o=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(i),{textColor:s,bgColor:a}=this.options,c="font-weight: bold;padding: 0 5px;border-radius:5px";console[t](`%c${o}%c / %c${this.scope}`,`${c};background-color: lightblue;color:black`,"",`${c};${s?`color:${s};`:""}${a?`background-color:${a}`:""}`,...n)}error(...t){this.print("error",...t)}log(...t){this.print("log",...t)}}("SDK",{bgColor:"forestgreen",textColor:"white"});let Y=!1;class q{constructor(){p(this,"listeners",new Map),p(this,"listenersCount",0),p(this,"subscribeListeners",[])}clear(){this.listeners.clear(),this.subscribeListeners=[]}get count(){return this.listenersCount+this.subscribeListeners.length}emit(t,...n){this.subscribeListeners.forEach(i=>i({event:t,args:n})),(this.listeners.get(t)||[]).forEach(([i,o])=>{i(...n),o&&this.off(t,i)})}on(t,n,i){let o=this.listeners.get(t);return o||this.listeners.set(t,o=[]),o.push([n,i]),this.listenersCount+=1,()=>this.off(t,n)}off(t,n){const i=this.listeners.get(t)||[];for(let o=0;o<i.length;o+=1)if(n===i[o][0])return i.splice(o,1),void(this.listenersCount-=1)}subscribe(t){return this.subscribeListeners.push(t),()=>this.unsubscribe(t)}unsubscribe(t){for(let n=0;n<this.subscribeListeners.length;n+=1)if(this.subscribeListeners[n]===t)return void this.subscribeListeners.splice(n,1)}}function K(e,t,n){return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}function X(...e){let t=!1;const n=e.flat(1);return[i=>!t&&n.push(i),()=>{t||(t=!0,n.forEach(i=>i()))},t]}class V extends Error{constructor(t,n,i){super(n,{cause:i}),this.type=t,Object.setPrototypeOf(this,V.prototype)}}function v(e,t,n){return new V(e,t,n)}const Se="ERR_METHOD_UNSUPPORTED",Le="ERR_METHOD_PARAMETER_UNSUPPORTED",Re="ERR_UNKNOWN_ENV",qe="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",Ze="ERR_TIMED_OUT",Ie="ERR_UNEXPECTED_TYPE",Lt="ERR_PARSE";function A(){return v(Ie,"Value has unexpected type")}class j{constructor(t,n,i){this.parser=t,this.isOptional=n,this.type=i}parse(t){if(!this.isOptional||void 0!==t)try{return this.parser(t)}catch(n){throw v(Lt,"Unable to parse value"+(this.type?` as ${this.type}`:""),n)}}optional(){return this.isOptional=!0,this}}function S(e,t){return()=>new j(e,!1,t)}const P=S(e=>{if("boolean"==typeof e)return e;const t=String(e);if("1"===t||"true"===t)return!0;if("0"===t||"false"===t)return!1;throw A()},"boolean");function Rt(e,t){const n={};for(const i in e){const o=e[i];if(!o)continue;let s,a;if("function"==typeof o||"parse"in o)s=i,a="function"==typeof o?o:o.parse.bind(o);else{const{type:c}=o;s=o.from||i,a="function"==typeof c?c:c.parse.bind(c)}try{const c=a(t(s));void 0!==c&&(n[i]=c)}catch(c){throw v(Lt,`Unable to parse field "${i}"`,c)}}return n}function qt(e){let t=e;if("string"==typeof t&&(t=JSON.parse(t)),"object"!=typeof t||null===t||Array.isArray(t))throw A();return t}function k(e,t){return new j(n=>{const i=qt(n);return Rt(e,o=>i[o])},!1,t)}const T=S(e=>{if("number"==typeof e)return e;if("string"==typeof e){const t=Number(e);if(!Number.isNaN(t))return t}throw A()},"number"),u=S(e=>{if("string"==typeof e||"number"==typeof e)return e.toString();throw A()},"string");function $e(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function tt(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}const Je={clipboard_text_received:k({req_id:u(),data:e=>null===e?e:u().optional().parse(e)}),custom_method_invoked:k({req_id:u(),result:e=>e,error:u().optional()}),popup_closed:{parse:e=>k({button_id:t=>null==t?void 0:u().parse(t)}).parse(e??{})},viewport_changed:k({height:T(),width:e=>null==e?window.innerWidth:T().parse(e),is_state_stable:P(),is_expanded:P()})};function Ve(){const e=new q,t=new q;t.subscribe(i=>{e.emit("event",{name:i.event,payload:i.args[0]})}),function Be(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((n,i,o)=>{i!==o.length-1?(n in t||(t[n]={}),t=t[n]):t[n]=tt})})}();const[,n]=X($e,K("resize",()=>{t.emit("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),K("message",i=>{if(i.source!==window.parent)return;let o;try{o=function Zt(e){return k({eventType:u(),eventData:t=>t}).parse(e)}(i.data)}catch{return}const{eventType:s,eventData:a}=o,c=Je[s];try{const l=c?c.parse(a):a;t.emit(...l?[s,l]:[s])}catch(l){Q.error(`An error occurred processing the "${s}" event from the Telegram application.\nPlease, file an issue here:\nhttps://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose`,o,l)}}),()=>e.clear(),()=>t.clear());return[{on:t.on.bind(t),off:t.off.bind(t),subscribe:i=>e.on("event",i),unsubscribe(i){e.off("event",i)},get count(){return t.count+e.count}},n]}const[je,He]=Mt(e=>{const[t,n]=Ve(),i=t.off.bind(t);return t.off=(o,s)=>{const{count:a}=t;i(o,s),a&&!t.count&&e()},[t,n]},([,e])=>e());function H(){return je()[0]}function W(e,t){H().off(e,t)}function x(e,t,n){return H().on(e,t,n)}function Z(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function y(e,t){return function We(e,t){const n=e.split("."),i=t.split("."),o=Math.max(n.length,i.length);for(let s=0;s<o;s+=1){const a=parseInt(n[s]||"0",10),c=parseInt(i[s]||"0",10);if(a!==c)return a>c?1:-1}return 0}(e,t)<=0}function O(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return y("6.4",n);if("try_browser"===t)return y("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return y("6.9",n);if("web_app_close"===e&&"return_back"===t)return y("7.6",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return y("6.1",t);case"web_app_open_popup":return y("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return y("6.4",t);case"web_app_switch_inline_query":return y("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return y("6.9",t);case"web_app_setup_settings_button":return y("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return y("7.2",t);case"web_app_setup_swipe_behavior":return y("7.7",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}let Dt="https://web.telegram.org";function I(e,t,n){let o,i={};if(t||n?t&&n?(i=n,o=t):t&&("targetOrigin"in t?i=t:o=t):i={},function Ae(...e){Y&&Q.log(...e)}("Posting event:",o?{event:e,data:o}:{event:e}),function Ut(){try{return window.self!==window.top}catch{return!0}}())return window.parent.postMessage(JSON.stringify({eventType:e,eventData:o}),i.targetOrigin||function Fe(){return Dt}());if(function It(e){return"external"in e&&Z(e.external)&&"notify"in e.external&&"function"==typeof e.external.notify}(window))window.external.notify(JSON.stringify({eventType:e,eventData:o}));else{if(!function Nt(e){return"TelegramWebviewProxy"in e&&Z(e.TelegramWebviewProxy)&&"postEvent"in e.TelegramWebviewProxy&&"function"==typeof e.TelegramWebviewProxy.postEvent}(window))throw v(Re,"Unable to determine current environment and possible way to send event. You are probably trying to use Mini Apps method outside the Telegram application environment.");window.TelegramWebviewProxy.postEvent(e,JSON.stringify(o))}}function Ge(e){return(t,n)=>{if(!O(t,e))throw v(Se,`Method "${t}" is unsupported in Mini Apps version ${e}`);if(Z(n)&&"web_app_set_header_color"===t&&"color"in n&&!O(t,"color",e))throw v(Le,`Parameter "color" of "${t}" method is unsupported in Mini Apps version ${e}`);return I(t,n)}}function $t(e){return({req_id:t})=>t===e}function Bt(e){return v(Ze,`Timeout reached: ${e}ms`)}function Jt(e,t){return Promise.race(["function"==typeof e?e():e,new Promise((n,i)=>{setTimeout(()=>{i(Bt(t))},t)})])}function f(e){return et.apply(this,arguments)}function et(){return(et=d(function*(e){let t;const n=new Promise(c=>t=c),{event:i,capture:o,timeout:s}=e,[,a]=X((Array.isArray(i)?i:[i]).map(c=>x(c,l=>{(!o||(Array.isArray(i)?o({event:c,payload:l}):o(l)))&&t(l)})));try{return(e.postEvent||I)(e.method,e.params),yield s?Jt(n,s):n}finally{a()}})).apply(this,arguments)}function N(e,t,n){return nt.apply(this,arguments)}function nt(){return(nt=d(function*(e,t,n,i={}){const{result:o,error:s}=yield f({...i,method:"web_app_invoke_custom_method",event:"custom_method_invoked",params:{method:e,params:t,req_id:n},capture:$t(n)});if(s)throw v(qe,s);return o})).apply(this,arguments)}function it(e){return/^#[\da-f]{6}$/i.test(e)}function Vt(e){const t=e.replace(/\s/g,"").toLowerCase();if(it(t))return t;if(function ze(e){return/^#[\da-f]{3}$/i.test(e)}(t)){let i="#";for(let o=0;o<3;o+=1)i+=t[1+o].repeat(2);return i}const n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((i,o)=>{const s=parseInt(o,10).toString(16);return i+(1===s.length?"0":"")+s},"#")}function jt(e){const t=Vt(e);return Math.sqrt([.299,.587,.114].reduce((n,i,o)=>{const s=parseInt(t.slice(1+2*o,1+2*(o+1)),16);return n+s*s*i},0))<120}class Qe{constructor(t){p(this,"ee",new q),p(this,"on",this.ee.on.bind(this.ee)),p(this,"off",this.ee.off.bind(this.ee)),this.state=t}clone(){return{...this.state}}set(t,n){Object.entries("string"==typeof t?{[t]:n}:t).reduce((i,[o,s])=>this.state[o]===s||void 0===s?i:(this.state[o]=s,this.ee.emit(`change:${o}`,s),!0),!1)&&this.ee.emit("change",this.state)}get(t){return this.state[t]}}class ot{constructor(t){p(this,"state"),p(this,"get"),p(this,"set"),p(this,"clone"),this.state=new Qe(t),this.set=this.state.set.bind(this.state),this.get=this.state.get.bind(this.state),this.clone=this.state.clone.bind(this.state)}}function Ht(e,t){return n=>O(t[n],e)}class st extends ot{constructor(t,n,i){super(t),p(this,"supports"),this.supports=Ht(n,i)}}class Ye extends st{constructor(t,n,i){super({isVisible:t},n,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"}),p(this,"on",(o,s)=>"click"===o?x("back_button_pressed",s):this.state.on(o,s)),p(this,"off",(o,s)=>"click"===o?W("back_button_pressed",s):this.state.off(o,s)),this.postEvent=i}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_back_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}const Wt=S(e=>e instanceof Date?e:new Date(1e3*T().parse(e)),"Date");function at(e,t){return new j(n=>{if("string"!=typeof n&&!(n instanceof URLSearchParams))throw A();const i="string"==typeof n?new URLSearchParams(n):n;return Rt(e,o=>{const s=i.get(o);return null===s?void 0:s})},!1,t)}const Ke=k({id:T(),type:u(),title:u(),photoUrl:{type:u().optional(),from:"photo_url"},username:u().optional()},"Chat").optional(),Ft=k({addedToAttachmentMenu:{type:P().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:P().optional(),from:"allows_write_to_pm"},firstName:{type:u(),from:"first_name"},id:T(),isBot:{type:P().optional(),from:"is_bot"},isPremium:{type:P().optional(),from:"is_premium"},languageCode:{type:u().optional(),from:"language_code"},lastName:{type:u().optional(),from:"last_name"},photoUrl:{type:u().optional(),from:"photo_url"},username:u().optional()},"User").optional();const Xe=S(e=>Vt(u().parse(e)),"rgb");function en(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}const zt=S(e=>{const t=Xe().optional();return Object.entries(qt(e)).reduce((n,[i,o])=>(n[function tn(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}(i)]=t.parse(o),n),{})},"ThemeParams");function ct(e){return at({botInline:{type:P().optional(),from:"tgWebAppBotInline"},initData:{type:at({authDate:{type:Wt(),from:"auth_date"},canSendAfter:{type:T().optional(),from:"can_send_after"},chat:Ke,chatInstance:{type:u().optional(),from:"chat_instance"},chatType:{type:u().optional(),from:"chat_type"},hash:u(),queryId:{type:u().optional(),from:"query_id"},receiver:Ft,startParam:{type:u().optional(),from:"start_param"},user:Ft},"InitData").optional(),from:"tgWebAppData"},initDataRaw:{type:u().optional(),from:"tgWebAppData"},platform:{type:u(),from:"tgWebAppPlatform"},showSettings:{type:P().optional(),from:"tgWebAppShowSettings"},startParam:{type:u().optional(),from:"tgWebAppStartParam"},themeParams:{type:zt(),from:"tgWebAppThemeParams"},version:{type:u(),from:"tgWebAppVersion"}}).parse(e)}function Qt(e){return ct(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function nn(){return Qt(window.location.href)}function Yt(){return performance.getEntriesByType("navigation")[0]}function rn(){const e=Yt();if(!e)throw new Error("Unable to get first navigation entry.");return Qt(e.name)}function Kt(e){return`telegram-apps/${e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}`}function Xt(e,t){sessionStorage.setItem(Kt(e),JSON.stringify(t))}function te(e){const t=sessionStorage.getItem(Kt(e));try{return t?JSON.parse(t):void 0}catch{}}function on(){return ct(te("launchParams")||"")}function ne(e){Xt("launchParams",function sn(e){const{initDataRaw:t,themeParams:n,platform:i,version:o,showSettings:s,startParam:a,botInline:c}=e,l=new URLSearchParams;return l.set("tgWebAppPlatform",i),l.set("tgWebAppThemeParams",function ee(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,n])=>[en(t),n])))}(n)),l.set("tgWebAppVersion",o),t&&l.set("tgWebAppData",t),a&&l.set("tgWebAppStartParam",a),"boolean"==typeof s&&l.set("tgWebAppShowSettings",s?"1":"0"),"boolean"==typeof c&&l.set("tgWebAppBotInline",c?"1":"0"),l.toString()}(e))}function re(){const e=Yt();return!(!e||"reload"!==e.type)}const[pn]=Mt(function cn(){let e=0;return()=>(e+=1).toString()});function m(e,t){return()=>{const n=function an(){const e=[];for(const t of[nn,rn,on])try{const n=t();return ne(n),n}catch(n){e.push(n instanceof Error?n.message:JSON.stringify(n))}throw new Error(["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?\n","\u{1f4d6} Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment\n","Collected errors:",e.map(t=>`\u2014 ${t}`)].join("\n"))}(),i={...n,postEvent:Ge(n.version),createRequestId:pn()};if("function"==typeof e)return e(i);const[o,s,a]=X(),c=t({...i,state:re()?te(e):void 0,addCleanup:o}),l=_=>(a||o(_.on("change",b=>{Xt(e,b)})),_);return[c instanceof Promise?c.then(l):l(c),s]}}m("backButton",({postEvent:e,version:t,state:n={isVisible:!1}})=>new Ye(n.isVisible,t,e));class L extends st{constructor(){super(...arguments),p(this,"on",this.state.on.bind(this.state)),p(this,"off",this.state.off.bind(this.state))}}function ie(e){const t=e.available?e:{available:!1,device_id:"",token_saved:!1,access_requested:!1,access_granted:!1,type:""};return{available:!0,type:t.type,deviceId:t.device_id,tokenSaved:t.token_saved,accessRequested:t.access_requested,accessGranted:t.access_granted}}class ln extends L{constructor({postEvent:t,version:n,...i}){super(i,n,{auth:"web_app_biometry_request_auth",openSettings:"web_app_biometry_open_settings",requestAccess:"web_app_biometry_request_access",updateToken:"web_app_biometry_update_token"}),p(this,"postEvent"),p(this,"authPromise"),p(this,"accessPromise"),this.postEvent=t}get available(){return this.get("available")}get accessGranted(){return this.get("accessGranted")}get accessRequested(){return this.get("accessRequested")}authenticate({reason:t,...n}){var i=this;return d(function*(){return i.authPromise||(i.authPromise=f({...n,method:"web_app_biometry_request_auth",event:"biometry_auth_requested",postEvent:i.postEvent,params:{reason:(t||"").trim()}}).then(({token:o})=>o).finally(()=>i.authPromise=void 0)),i.authPromise})()}get deviceId(){return this.get("deviceId")}openSettings(){this.postEvent("web_app_biometry_open_settings")}requestAccess({reason:t,...n}={}){return this.accessPromise||(this.accessPromise=f({...n,postEvent:this.postEvent,method:"web_app_biometry_request_access",event:"biometry_info_received",params:{reason:t||""}}).then(i=>{const o=ie(i);return this.set(o),o.accessGranted}).finally(()=>this.accessPromise=void 0)),this.accessPromise}get biometryType(){return this.get("biometryType")}get tokenSaved(){return this.get("tokenSaved")}updateToken({token:t,...n}={}){var i=this;return d(function*(){return["removed","updated"].includes((yield f({...n,postEvent:i.postEvent,method:"web_app_biometry_update_token",event:"biometry_token_updated",params:{token:t||""}})).status)})()}}function un(e){return pt.apply(this,arguments)}function pt(){return(pt=d(function*(e){return ie(yield f({...e||{},method:"web_app_biometry_get_info",event:"biometry_info_received"}))})).apply(this,arguments)}m("biometryManager",function(){var e=d(function*({postEvent:t,version:n,state:i}){return new ln({...i||O("web_app_biometry_get_info",n)?i||(yield un({timeout:1e3})):{available:!1,accessGranted:!1,accessRequested:!1,tokenSaved:!1,deviceId:""},version:n,postEvent:t})});return function(t){return e.apply(this,arguments)}}());class lt extends ot{constructor(){super(...arguments),p(this,"on",this.state.on.bind(this.state)),p(this,"off",this.state.off.bind(this.state))}}class dn extends lt{constructor(t,n){super({isConfirmationNeeded:t}),this.postEvent=n}set isConfirmationNeeded(t){this.set("isConfirmationNeeded",t),this.postEvent("web_app_setup_closing_behavior",{need_confirmation:t})}get isConfirmationNeeded(){return this.get("isConfirmationNeeded")}disableConfirmation(){this.isConfirmationNeeded=!1}enableConfirmation(){this.isConfirmationNeeded=!0}}m("closingBehavior",({postEvent:e,state:t={isConfirmationNeeded:!1}})=>new dn(t.isConfirmationNeeded,e));class ut{constructor(t,n){p(this,"supports"),this.supports=Ht(t,n)}}function hn(e){if(Array.isArray(e))return e;if("string"==typeof e)try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch{}throw A()}class _n extends j{constructor(t,n,i){super(hn,n,i),p(this,"itemParser"),this.itemParser="function"==typeof t?t:t.parse.bind(t)}parse(t){const n=super.parse(t);return void 0===n?n:n.map(this.itemParser)}of(t){return this.itemParser="function"==typeof t?t:t.parse.bind(t),this}}function oe(e,t){return Object.fromEntries(e.map(n=>[n,t]))}class mn extends ut{constructor(t,n,i){super(t,{delete:"web_app_invoke_custom_method",get:"web_app_invoke_custom_method",getKeys:"web_app_invoke_custom_method",set:"web_app_invoke_custom_method"}),this.createRequestId=n,this.postEvent=i}delete(t,n={}){var i=this;return d(function*(){const o=Array.isArray(t)?t:[t];o.length&&(yield N("deleteStorageValues",{keys:o},i.createRequestId(),{...n,postEvent:i.postEvent}))})()}getKeys(t={}){var n=this;return d(function*(){return function gn(e){return new _n(t=>t,!1,e)}().of(u()).parse(yield N("getStorageKeys",{},n.createRequestId(),{...t,postEvent:n.postEvent}))})()}get(t,n={}){var i=this;return d(function*(){const o=Array.isArray(t)?t:[t];if(!o.length)return oe(o,"");const s=yield N("getStorageValues",{keys:o},i.createRequestId(),{...n,postEvent:i.postEvent}),a=k(oe(o,u()),"CloudStorageData").parse(s);return Array.isArray(t)?a:a[t]})()}set(t,n,i={}){var o=this;return d(function*(){yield N("saveStorageValue",{key:t,value:n},o.createRequestId(),{...i,postEvent:o.postEvent})})()}}m(({createRequestId:e,postEvent:t,version:n})=>new mn(n,e,t));class fn extends ut{constructor(t,n){super(t,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"}),this.postEvent=n}impactOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:t})}notificationOccurred(t){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:t})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}m(({version:e,postEvent:t})=>new fn(e,t));class bn{constructor(t){this.initData=t}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){const{canSendAfter:t}=this;return t?new Date(this.authDate.getTime()+1e3*t):void 0}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}m(({initData:e})=>e?new bn(e):void 0);class yn extends L{constructor(t,n,i){super({isOpened:t},n,{open:"web_app_open_invoice"}),this.postEvent=i}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t,n){var i=this;return d(function*(){if(i.isOpened)throw new Error("Invoice is already opened");let o;if(n){const{hostname:s,pathname:a}=new URL(t,window.location.href);if("t.me"!==s)throw new Error(`Incorrect hostname: ${s}`);const c=a.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!c)throw new Error('Link pathname has incorrect format. Expected to receive "/invoice/{slug}" or "/${slug}"');[,,o]=c}else o=t;i.isOpened=!0;try{return(yield f({method:"web_app_open_invoice",event:"invoice_closed",params:{slug:o},postEvent:i.postEvent,capture:s=>o===s.slug})).status}finally{i.isOpened=!1}})()}}const vn=m(({version:e,postEvent:t})=>new yn(!1,e,t));class wn extends ot{constructor({postEvent:t,...n}){super(n),p(this,"postEvent"),p(this,"on",(i,o)=>"click"===i?x("main_button_pressed",o):this.state.on(i,o)),p(this,"off",(i,o)=>"click"===i?W("main_button_pressed",o):this.state.off(i,o)),this.postEvent=t}get bgColor(){return this.get("bgColor")}commit(){""!==this.text&&this.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isEnabled,is_progress_visible:this.isLoaderVisible,text:this.text,color:this.bgColor,text_color:this.textColor})}disable(){return this.isEnabled=!1,this}enable(){return this.isEnabled=!0,this}hide(){return this.isVisible=!1,this}hideLoader(){return this.isLoaderVisible=!1,this}set isEnabled(t){this.setParams({isEnabled:t})}get isEnabled(){return this.get("isEnabled")}set isLoaderVisible(t){this.setParams({isLoaderVisible:t})}get isLoaderVisible(){return this.get("isLoaderVisible")}set isVisible(t){this.setParams({isVisible:t})}get isVisible(){return this.get("isVisible")}show(){return this.isVisible=!0,this}showLoader(){return this.isLoaderVisible=!0,this}setText(t){return this.setParams({text:t})}setTextColor(t){return this.setParams({textColor:t})}setBgColor(t){return this.setParams({bgColor:t})}setParams(t){return this.set(t),this.commit(),this}get text(){return this.get("text")}get textColor(){return this.get("textColor")}}function se(e,t){return n=>{const[i,o]=t[n];return O(i,o,e)}}function xn(e){return new Promise(t=>{setTimeout(t,e)})}m("mainButton",({postEvent:e,themeParams:t,state:n={isVisible:!1,isEnabled:!1,text:"",isLoaderVisible:!1,textColor:t.buttonTextColor||"#ffffff",bgColor:t.buttonColor||"#000000"}})=>new wn({...n,postEvent:e}));class Pn extends L{constructor({postEvent:t,createRequestId:n,version:i,botInline:o,...s}){super(s,i,{requestPhoneAccess:"web_app_request_phone",requestWriteAccess:"web_app_request_write_access",switchInlineQuery:"web_app_switch_inline_query",setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"}),p(this,"botInline"),p(this,"postEvent"),p(this,"createRequestId"),p(this,"requestPhoneAccessPromise"),p(this,"requestWriteAccessPromise"),p(this,"supportsParam"),this.createRequestId=n,this.postEvent=t,this.botInline=o;const a=this.supports.bind(this);this.supports=c=>!!a(c)&&("switchInlineQuery"!==c||o),this.supportsParam=se(i,{"setHeaderColor.color":["web_app_set_header_color","color"],"close.returnBack":["web_app_close","return_back"]})}getRequestedContact({timeout:t=1e4}={}){var n=this;return d(function*(){return function kn(){return at({contact:k({userId:{type:T(),from:"user_id"},phoneNumber:{type:u(),from:"phone_number"},firstName:{type:u(),from:"first_name"},lastName:{type:u().optional(),from:"last_name"}}),authDate:{type:Wt(),from:"auth_date"},hash:u()},"RequestedContact")}().parse(yield N("getRequestedContact",{},n.createRequestId(),{postEvent:n.postEvent,timeout:t}))})()}get bgColor(){return this.get("bgColor")}close(t){this.postEvent("web_app_close",this.supportsParam("close.returnBack")?{return_back:t}:{})}get headerColor(){return this.get("headerColor")}get isBotInline(){return this.botInline}get isDark(){return jt(this.bgColor)}ready(){this.postEvent("web_app_ready")}requestContact({timeout:t=5e3}={}){var n=this;return d(function*(){try{return yield n.getRequestedContact()}catch{}if("sent"!==(yield n.requestPhoneAccess()))throw new Error("Access denied.");const i=Date.now()+t;let o=50;return Jt(d(function*(){for(;Date.now()<i;){try{return yield n.getRequestedContact()}catch{}yield xn(o),o+=50}throw Bt(t)}),t)})()}requestPhoneAccess(t={}){var n=this;return d(function*(){return n.requestPhoneAccessPromise||(n.requestPhoneAccessPromise=f({...t,method:"web_app_request_phone",event:"phone_requested",postEvent:n.postEvent}).then(({status:i})=>i).finally(()=>n.requestPhoneAccessPromise=void 0)),n.requestPhoneAccessPromise})()}requestWriteAccess(t={}){var n=this;return d(function*(){return n.requestWriteAccessPromise||(n.requestWriteAccessPromise=f({...t,method:"web_app_request_write_access",event:"write_access_requested",postEvent:n.postEvent}).then(({status:i})=>i).finally(()=>n.requestWriteAccessPromise=void 0)),n.requestWriteAccessPromise})()}sendData(t){const{size:n}=new Blob([t]);if(!n||n>4096)throw new Error(`Passed data has incorrect size: ${n}`);this.postEvent("web_app_data_send",{data:t})}setHeaderColor(t){this.postEvent("web_app_set_header_color",it(t)?{color:t}:{color_key:t}),this.set("headerColor",t)}setBgColor(t){this.postEvent("web_app_set_background_color",{color:t}),this.set("bgColor",t)}switchInlineQuery(t,n=[]){if(!this.supports("switchInlineQuery")&&!this.isBotInline)throw new Error("Method is unsupported because Mini App should be launched in inline mode.");this.postEvent("web_app_switch_inline_query",{query:t,chat_types:n})}}function Cn(e){const t=e.message.trim(),n=(e.title||"").trim(),i=e.buttons||[];let o;if(n.length>64)throw new Error(`Title has incorrect size: ${n.length}`);if(!t.length||t.length>256)throw new Error(`Message has incorrect size: ${t.length}`);if(i.length>3)throw new Error(`Buttons have incorrect size: ${i.length}`);return o=i.length?i.map(s=>{const{id:a=""}=s;if(a.length>64)throw new Error(`Button ID has incorrect size: ${a}`);if(!s.type||"default"===s.type||"destructive"===s.type){const c=s.text.trim();if(!c.length||c.length>64)throw new Error(`Button text with type "${s.type||"default"}" has incorrect size: ${s.text.length}`);return{...s,text:c,id:a}}return{...s,id:a}}):[{type:"close",id:""}],{title:n,message:t,buttons:o}}m("miniApp",({themeParams:e,botInline:t=!1,state:n={bgColor:e.bgColor||"#ffffff",headerColor:e.headerBgColor||"#000000"},...i})=>new Pn({...i,...n,botInline:t}));class En extends L{constructor(t,n,i){super({isOpened:t},n,{open:"web_app_open_popup"}),this.postEvent=i}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t){var n=this;return d(function*(){if(n.isOpened)throw new Error("Popup is already opened.");n.isOpened=!0;try{const{button_id:i=null}=yield f({event:"popup_closed",method:"web_app_open_popup",postEvent:n.postEvent,params:Cn(t)});return i}finally{n.isOpened=!1}})()}}m(({postEvent:e,version:t})=>new En(!1,t,e));class Tn extends L{constructor(t,n,i){super({isOpened:t},n,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"}),this.postEvent=i}close(){this.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1}set isOpened(t){this.set("isOpened",t)}get isOpened(){return this.get("isOpened")}open(t){var n=this;return d(function*(){if(n.isOpened)throw new Error("The scanner is already opened");const{text:i,capture:o}=("string"==typeof t?{text:t}:t)||{};n.isOpened=!0;try{const s=((yield f({method:"web_app_open_scan_qr_popup",event:["qr_text_received","scan_qr_popup_closed"],postEvent:n.postEvent,params:{text:i},capture:a=>"scan_qr_popup_closed"===a.event||!o||o(a.payload)}))||{}).data||null;return s&&n.close(),s}finally{n.isOpened=!1}})()}}m(({version:e,postEvent:t})=>new Tn(!1,e,t));class On extends st{constructor(t,n,i){super({isVisible:t},n,{show:"web_app_setup_settings_button",hide:"web_app_setup_settings_button"}),p(this,"on",(o,s)=>"click"===o?x("settings_button_pressed",s):this.state.on(o,s)),p(this,"off",(o,s)=>"click"===o?W("settings_button_pressed",s):this.state.off(o,s)),this.postEvent=i}set isVisible(t){this.set("isVisible",t),this.postEvent("web_app_setup_settings_button",{is_visible:t})}get isVisible(){return this.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}m("settingsButton",({version:e,postEvent:t,state:n={isVisible:!1}})=>new On(n.isVisible,e,t));class Mn extends L{constructor(t,n,i){super({isVerticalSwipeEnabled:t},n,{disableVerticalSwipe:"web_app_setup_swipe_behavior",enableVerticalSwipe:"web_app_setup_swipe_behavior"}),this.postEvent=i}set isVerticalSwipeEnabled(t){this.set("isVerticalSwipeEnabled",t),this.postEvent("web_app_setup_swipe_behavior",{allow_vertical_swipe:t})}get isVerticalSwipeEnabled(){return this.get("isVerticalSwipeEnabled")}disableVerticalSwipe(){this.isVerticalSwipeEnabled=!1}enableVerticalSwipe(){this.isVerticalSwipeEnabled=!0}}m("swipeBehavior",({postEvent:e,state:t={isVerticalSwipeEnabled:!0},version:n})=>new Mn(t.isVerticalSwipeEnabled,n,e));class An extends lt{get accentTextColor(){return this.get("accentTextColor")}get bgColor(){return this.get("bgColor")}get buttonColor(){return this.get("buttonColor")}get buttonTextColor(){return this.get("buttonTextColor")}get destructiveTextColor(){return this.get("destructiveTextColor")}getState(){return this.clone()}get headerBgColor(){return this.get("headerBgColor")}get hintColor(){return this.get("hintColor")}get isDark(){return!this.bgColor||jt(this.bgColor)}get linkColor(){return this.get("linkColor")}get secondaryBgColor(){return this.get("secondaryBgColor")}get sectionBgColor(){return this.get("sectionBgColor")}get sectionHeaderTextColor(){return this.get("sectionHeaderTextColor")}get sectionSeparatorColor(){return this.get("sectionHeaderTextColor")}listen(){return x("theme_changed",t=>{this.set(function ae(e){return zt().parse(e)}(t.theme_params))})}get subtitleTextColor(){return this.get("subtitleTextColor")}get textColor(){return this.get("textColor")}}function U(e,t){return e.startsWith(t)?e:`${t}${e}`}m("themeParams",({themeParams:e,state:t=e,addCleanup:n})=>{const i=new An(t);return n(i.listen()),i});class Sn extends ut{constructor(t,n,i){super(t,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),p(this,"supportsParam"),this.version=t,this.createRequestId=n,this.postEvent=i,this.supportsParam=se(t,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(t,n){const i=function D(e){return new URL("string"==typeof e?e:`${e.pathname||""}${U(e.search||"","?")}${U(e.hash||"","#")}`,"http://a")}(t).toString();if(!O("web_app_open_link",this.version))return void window.open(i,"_blank");const o="boolean"==typeof n?{tryInstantView:n}:n||{};this.postEvent("web_app_open_link",{url:i,try_browser:o.tryBrowser,try_instant_view:o.tryInstantView})}openTelegramLink(t){const{hostname:n,pathname:i,search:o}=new URL(t,"https://t.me");if("t.me"!==n)throw new Error(`URL has not allowed hostname: ${n}. Only "t.me" is allowed`);O("web_app_open_tg_link",this.version)?this.postEvent("web_app_open_tg_link",{path_full:i+o}):window.location.href=t}readTextFromClipboard(){var t=this;return d(function*(){const n=t.createRequestId(),{data:i=null}=yield f({method:"web_app_read_text_from_clipboard",event:"clipboard_text_received",postEvent:t.postEvent,params:{req_id:n},capture:$t(n)});return i})()}shareURL(t,n){this.openTelegramLink("https://t.me/share/url?"+new URLSearchParams({url:t,text:n||""}).toString().replace(/\+/g,"%20"))}}function ce(){return dt.apply(this,arguments)}function dt(){return(dt=d(function*(e={}){const{is_expanded:t,is_state_stable:n,...i}=yield f({...e,method:"web_app_request_viewport",event:"viewport_changed"});return{...i,isExpanded:t,isStateStable:n}})).apply(this,arguments)}function $(e){return e<0?0:e}m(({version:e,postEvent:t,createRequestId:n})=>new Sn(e,n,t));class Ln extends lt{constructor({postEvent:t,stableHeight:n,height:i,width:o,isExpanded:s}){super({height:$(i),isExpanded:s,stableHeight:$(n),width:$(o)}),p(this,"postEvent"),this.postEvent=t}sync(t){var n=this;return d(function*(){const{isStateStable:i,...o}=yield ce(t);n.set({...o,stableHeight:i?o.height:n.get("stableHeight")})})()}get height(){return this.get("height")}get stableHeight(){return this.get("stableHeight")}listen(){return x("viewport_changed",t=>{const{height:n,width:i,is_expanded:o,is_state_stable:s}=t,a=$(n);this.set({height:a,isExpanded:o,width:$(i),...s?{stableHeight:a}:{}})})}get isExpanded(){return this.get("isExpanded")}get width(){return this.get("width")}expand(){this.postEvent("web_app_expand"),this.set("isExpanded",!0)}get isStable(){return this.stableHeight===this.height}}m("viewport",function(){var e=d(function*({state:t,platform:n,postEvent:i,addCleanup:o}){let s=!1,a=0,c=0,l=0;if(t)s=t.isExpanded,a=t.height,c=t.width,l=t.stableHeight;else if(["macos","tdesktop","unigram","webk","weba","web"].includes(n))s=!0,a=window.innerHeight,c=window.innerWidth,l=window.innerHeight;else{const b=yield ce({timeout:1e3,postEvent:i});s=b.isExpanded,a=b.height,c=b.width,l=b.isStateStable?a:0}const _=new Ln({postEvent:i,height:a,width:c,stableHeight:l,isExpanded:s});return o(_.listen()),_});return function(t){return e.apply(this,arguments)}}());let Un=(()=>{class e extends J{constructor(n){super(n),this.urlPath="payment"}paymentRequest(n){return this.post(`${this.urlPath}/stars-invoice-link`,{payment_amount:n}).pipe()}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG(E.eN))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dn=(()=>{class e extends J{constructor(n){super(n),this.urlPath="profiles"}getProfile(){return this.get(`${this.urlPath}/my_profile/`)}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG(E.eN))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$n=(()=>{class e extends J{constructor(n){super(n),this.urlPath="daily-bonus"}getDailyBonus(){return this.get(`${this.urlPath}`)}claimDailyBonus(){return this.post(`${this.urlPath}/claim`,{})}static#t=this.\u0275fac=function(i){return new(i||e)(r.LFG(E.eN))};static#e=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Bn(e,t){if(1&e){const n=r.EpF();r.TgZ(0,"div",9),r.NdJ("click",function(){r.CHM(n);const o=r.oxw();return r.KtG(o.setProfileData(o.userData))}),r._UZ(1,"app-ranking-item",10),r.qZA()}if(2&e){const n=r.oxw();r.xp6(1),r.Q6J("user",n.userData)("currentUser",!0)}}function Jn(e,t){if(1&e){const n=r.EpF();r.TgZ(0,"app-modal",6),r.NdJ("closeModalEmit",function(){r.CHM(n);const o=r.oxw();return r.KtG(o.viewProfileModal=!1)}),r._UZ(1,"app-ranking-profile",11),r.qZA()}if(2&e){const n=r.oxw();r.Q6J("viewModal",n.viewProfileModal),r.xp6(1),r.Q6J("user",n.profileData)}}function Vn(e,t){if(1&e){const n=r.EpF();r.TgZ(0,"app-modal",6),r.NdJ("closeModalEmit",function(){r.CHM(n);const o=r.oxw();return r.KtG(o.viewDailyModal=!1)}),r.TgZ(1,"app-ranking-daily-bonus",12),r.NdJ("closeModalEmit",function(){r.CHM(n);const o=r.oxw();return r.KtG(o.viewDailyModal=!1)}),r.qZA()()}if(2&e){const n=r.oxw();r.Q6J("viewModal",n.viewDailyModal),r.xp6(1),r.Q6J("bonusData",n.dailyBonusData)}}let de=(()=>{class e{constructor(){this.rankingService=(0,r.f3M)(me),this.authService=(0,r.f3M)(ge.e),this.paymentService=(0,r.f3M)(Un),this.profileService=(0,r.f3M)(Dn),this.dailyBonusService=(0,r.f3M)($n),this.allLeaderboard=[],this.weekLeaderboard=[],this.monthLeaderboard=[],this.dailyBonusData=null,this.profileData=null,this.startId=0,this.isLoading=!1,this.viewPaymentModal=!1,this.viewProfileModal=!1,this.viewDailyModal=!1}ngOnInit(){this.checkDailyBonus(),this.getLeaderboards(),this.authService.userData$.subscribe(n=>{this.userData=g.fromJson(n)})}checkDailyBonus(){this.dailyBonusService.getDailyBonus().subscribe({next:n=>{n&&n.is_available&&(this.dailyBonusData=n,this.viewDailyModal=!0,this.claimDailyBonus())},error:n=>console.log(n)})}claimDailyBonus(){this.dailyBonusService.claimDailyBonus().subscribe({next:n=>{console.log(n)},error:n=>{console.log(n)}})}startPayment(n){this.paymentService.paymentRequest(n).subscribe({next:i=>{i&&i.url&&(Tt.N.production?vn().open(i.url,"url").then(s=>{"paid"===s&&this.profileService.getProfile().subscribe(a=>{a&&(this.viewPaymentModal=!1,this.getLeaderboards(),this.authService.setUserData(a))})}):console.log(i))},error:i=>{console.log(i)}})}getLeaderboards(){this.isLoading=!0,function Pe(...e){const t=(0,ve.jO)(e),{args:n,keys:i}=(0,be.D)(e),o=new fe.y(s=>{const{length:a}=n;if(!a)return void s.complete();const c=new Array(a);let l=a,_=a;for(let b=0;b<a;b++){let Pt=!1;(0,ye.Xf)(n[b]).subscribe((0,we.x)(s,fr=>{Pt||(Pt=!0,_--),c[b]=fr},()=>l--,void 0,()=>{(!l||!Pt)&&(_||s.next(i?(0,xe.n)(i,c):c),s.complete())}))}});return t?o.pipe((0,ke.Z)(t)):o}([this.rankingService.getAllLeaderboard().pipe((0,G.K)(()=>this.getLeaderboardsError()),(0,M.U)(s=>s.map(a=>({...a,rank:this.idGenerator().next().value}))),(0,z.x)(()=>this.startId=0)),this.rankingService.getWeekLeaderboard().pipe((0,G.K)(()=>this.getLeaderboardsError()),(0,M.U)(s=>s.map(a=>({...a,rank:this.idGenerator().next().value}))),(0,z.x)(()=>this.startId=0)),this.rankingService.getMonthLeaderboard().pipe((0,G.K)(()=>this.getLeaderboardsError()),(0,M.U)(s=>s.map(a=>({...a,rank:this.idGenerator().next().value}))),(0,z.x)(()=>this.startId=0))]).subscribe(([s,a,c])=>{this.getLeaderboardsSuccess({allLeaderboard:s,weekLeaderboard:a,monthLeaderboard:c}),this.isLoading=!1},s=>{this.getLeaderboardsError(),this.isLoading=!1})}getLeaderboardsSuccess(n){this.allLeaderboard=[...n.allLeaderboard],this.weekLeaderboard=[...n.weekLeaderboard],this.monthLeaderboard=[...n.monthLeaderboard],console.log(this.allLeaderboard)}getLeaderboardsError(){return Ce.E}*idGenerator(){let n=this.startId;for(;;)yield++n}setProfileData(n){this.profileData=n,this.viewProfileModal=!0}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-page"]],decls:10,vars:8,consts:[[1,"ranking-page"],[1,"ranking-page__top"],[3,"user","openPaymentModalEmit"],[1,"ranking-page__list"],[3,"allLeaderboard","weekLeaderboard","monthLeaderboard","openProfileEmit"],["class","ranking-page__user-stat",3,"click",4,"ngIf"],[3,"viewModal","closeModalEmit"],[3,"buyEmit"],[3,"viewModal","closeModalEmit",4,"ngIf"],[1,"ranking-page__user-stat",3,"click"],[3,"user","currentUser"],[3,"user"],[3,"bonusData","closeModalEmit"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"app-ranking-top",2),r.NdJ("openPaymentModalEmit",function(){return o.viewPaymentModal=!0}),r.qZA()(),r.TgZ(3,"div",3)(4,"app-ranking-list",4),r.NdJ("openProfileEmit",function(a){return o.setProfileData(a)}),r.qZA()(),r.YNc(5,Bn,2,2,"div",5),r.TgZ(6,"app-modal",6),r.NdJ("closeModalEmit",function(){return o.viewPaymentModal=!1}),r.TgZ(7,"app-ranking-payment",7),r.NdJ("buyEmit",function(a){return o.startPayment(a)}),r.qZA()(),r.YNc(8,Jn,2,2,"app-modal",8),r.YNc(9,Vn,2,2,"app-modal",8),r.qZA()),2&i&&(r.xp6(2),r.Q6J("user",o.userData),r.xp6(2),r.Q6J("allLeaderboard",o.allLeaderboard)("weekLeaderboard",o.weekLeaderboard)("monthLeaderboard",o.monthLeaderboard),r.xp6(1),r.Q6J("ngIf",o.userData),r.xp6(1),r.Q6J("viewModal",o.viewPaymentModal),r.xp6(2),r.Q6J("ngIf",o.profileData),r.xp6(1),r.Q6J("ngIf",o.dailyBonusData))},styles:[".ranking-page[_ngcontent-%COMP%]{height:calc(100vh - 30px);overflow-y:scroll}.ranking-page__top[_ngcontent-%COMP%]{width:100%}.ranking-page__list[_ngcontent-%COMP%]{margin-top:5%;width:100%;min-height:50vh}.ranking-page__user-stat[_ngcontent-%COMP%]{width:100%;position:sticky;bottom:23px;background-color:var(--tg-theme-bg-color);margin-top:25px}"]})}return e})();class g{constructor(t=123123,n="boba",i=100,o="",s){this.telegram_id=t,this.user_name=n,this.stars=i,this.avatar_url=o,this.rank=s}static fromJson(t){return new g(t.telegram_id,t.user_name,t.stars,t.avatar_url,t.rank)}static fromArrayJson(t){return t.map(n=>g.fromJson(n))}}const jn=[{path:"",component:de}];let Hn=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[Et.Bz.forChild(jn),Et.Bz]})}return e})();var R=function(e){return e.TOTAL="total",e.WEEKLY="weekly",e.MONTHLY="monthly",e}(R||{});function Wn(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"img",3),r.BQk()),2&e){const n=r.oxw();r.xp6(1),r.Tol("avatar__image"),r.Udp("width",n.width,"em")("height",n.height,"em"),r.Q6J("src",n.photoURL,r.LSH)}}function Fn(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const n=r.oxw();r.Tol("avatar__image avatar__image_icon"),r.Udp("width",n.width,"em")("height",n.height,"em"),r.xp6(1),r.hij(" ",n.getUserInitials(n.displayName)," ")}}const Gn=["*"];let wt=(()=>{class e{constructor(){this.height=8,this.width=8}getUserInitials(n){const[i="",o=""]=(n||"").split(" ");return`${i.charAt(0)}${o.charAt(0)}`.toUpperCase()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-avatar"]],inputs:{height:"height",width:"width",photoURL:"photoURL",displayName:"displayName"},ngContentSelectors:Gn,decls:5,vars:2,consts:[[1,"avatar"],[4,"ngIf","ngIfElse"],["initialIcon",""],["alt","",3,"src"]],template:function(i,o){if(1&i&&(r.F$t(),r.TgZ(0,"div",0),r.YNc(1,Wn,2,7,"ng-container",1),r.YNc(2,Fn,2,7,"ng-template",null,2,r.W1O),r.Hsn(4,0,["id","place"]),r.qZA()),2&i){const s=r.MAs(3);r.xp6(1),r.Q6J("ngIf",o.photoURL)("ngIfElse",s)}},dependencies:[w.O5],styles:[".avatar[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;justify-content:center;width:100%;height:100%}.avatar__image[_ngcontent-%COMP%]{border-radius:50%}.avatar__image_icon[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#3182ce;color:#fff;font-family:var(--font-bold);justify-content:center}.avatar[_ngcontent-%COMP%]    >.place{position:absolute;bottom:0;left:50%;transform:translate(-50%,50%)}"]})}return e})();function zn(e,t){1&e&&(r.TgZ(0,"div",9),r._uU(1," You "),r.qZA())}let he=(()=>{class e{constructor(){this.currentUser=!1}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-item"]],inputs:{user:"user",currentUser:"currentUser"},decls:14,vars:8,consts:[[1,"ranking-item"],[1,"ranking-item__container"],[1,"ranking-item__avatar",3,"displayName","photoURL","height","width"],[1,"ranking-item__user-block"],[1,"wrapper"],[1,"ranking-item__user-block-userName"],["class","ranking-item__currentUser",4,"ngIf"],[1,"ranking-item__user-block-score"],[1,"ranking-item__place"],[1,"ranking-item__currentUser"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"app-avatar",2),r.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"p"),r._uU(7),r.qZA(),r.YNc(8,zn,2,0,"div",6),r.qZA(),r.TgZ(9,"div",7),r._uU(10),r.qZA()(),r.TgZ(11,"div",8)(12,"p"),r._uU(13),r.qZA()()()()()),2&i&&(r.xp6(2),r.Q6J("displayName",o.user.user_name)("photoURL",o.user.avatar_url)("height",3)("width",3),r.xp6(5),r.Oqu(o.user.user_name),r.xp6(1),r.Q6J("ngIf",o.currentUser),r.xp6(2),r.hij(" ",o.user.stars," "),r.xp6(3),r.Oqu(o.user.rank))},dependencies:[w.O5,wt],styles:[".ranking-item[_ngcontent-%COMP%]{width:100%;padding:1% 3%;border-top:1px solid var(--tg-theme-second-text-color)}.ranking-item__container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.ranking-item__avatar[_ngcontent-%COMP%]{margin-right:10px}.ranking-item__user-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;color:var(--tg-theme-text-color);font-family:var(--font-regular)}.ranking-item__user-block-userName[_ngcontent-%COMP%]{font-family:var(--font-bold);display:flex;align-items:center}.ranking-item__user-block-userName[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:5px}.ranking-item__currentUser[_ngcontent-%COMP%]{background-color:var(--tg-theme-link-color);line-height:1;padding:5px;font-size:14px;border-radius:10px}"]})}return e})();function Qn(e,t){if(1&e){const n=r.EpF();r.TgZ(0,"div",4)(1,"app-ranking-item",5),r.NdJ("click",function(){const s=r.CHM(n).$implicit,a=r.oxw();return r.KtG(a.openProfile(s))}),r.qZA()()}if(2&e){const n=t.$implicit;r.xp6(1),r.Q6J("user",n)}}let Yn=(()=>{class e{users(){switch(this.selectedBoard){case R.TOTAL:return this.allLeaderboard;case R.WEEKLY:return this.weekLeaderboard;case R.MONTHLY:return this.monthLeaderboard;default:return this.mockUsers}}constructor(){this.allLeaderboard=[],this.weekLeaderboard=[],this.monthLeaderboard=[],this.openProfileEmit=new r.vpe,this.selectedBoard=R.TOTAL,this.RankingOptions=R,this.mockUsers=[new g,new g,new g,new g,new g,new g,new g,new g,new g,new g,new g]}ngOnInit(){}isSelected(n){return this.selectedBoard===n}setOption(n){this.selectedBoard=n}openProfile(n){this.openProfileEmit.emit(n)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-list"]],inputs:{allLeaderboard:"allLeaderboard",weekLeaderboard:"weekLeaderboard",monthLeaderboard:"monthLeaderboard"},outputs:{openProfileEmit:"openProfileEmit"},decls:9,vars:4,consts:[[1,"ranking-list"],[1,"ranking-list__options"],[1,"ranking-list__option",3,"ngClass","click"],["class","ranking-list_container",4,"ngFor","ngForOf"],[1,"ranking-list_container"],[1,"ranking-list__item",3,"user","click"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r.NdJ("click",function(){return o.setOption(o.RankingOptions.TOTAL)}),r._uU(3," Total "),r.qZA(),r.TgZ(4,"div",2),r.NdJ("click",function(){return o.setOption(o.RankingOptions.MONTHLY)}),r._uU(5," Monthly "),r.qZA(),r.TgZ(6,"div",2),r.NdJ("click",function(){return o.setOption(o.RankingOptions.WEEKLY)}),r._uU(7," Weekly "),r.qZA()(),r.YNc(8,Qn,2,1,"div",3),r.qZA()),2&i&&(r.xp6(2),r.Q6J("ngClass",o.isSelected(o.RankingOptions.TOTAL)?"selected":""),r.xp6(2),r.Q6J("ngClass",o.isSelected(o.RankingOptions.MONTHLY)?"selected":""),r.xp6(2),r.Q6J("ngClass",o.isSelected(o.RankingOptions.WEEKLY)?"selected":""),r.xp6(2),r.Q6J("ngForOf",o.users()))},dependencies:[w.mk,w.sg,he],styles:[".ranking-list__item[_ngcontent-%COMP%]{cursor:pointer}.ranking-list__options[_ngcontent-%COMP%]{width:100%;height:20%;padding:0 3%;display:flex;justify-content:space-between;align-items:center}.ranking-list__option[_ngcontent-%COMP%]{width:33%;background-color:var(--tg-theme-bg-color);color:var(--tg-theme-second-text-color);font-family:var(--font-regular);text-align:center;cursor:pointer}.ranking-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-bottom:1px solid var(--tg-theme-button-color);color:var(--tg-theme-button-color)}"]})}return e})();const Kn=[[["","header",""]],[["","body",""]]],Xn=["[header]","[body]"];let kt=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-sector"]],ngContentSelectors:Xn,decls:6,vars:0,consts:[[1,"sector"],[1,"wpapper"],[1,"sector__header"],[1,"sector__body"]],template:function(i,o){1&i&&(r.F$t(Kn),r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r.Hsn(3),r.qZA(),r.TgZ(4,"div",3),r.Hsn(5,1),r.qZA()()())},styles:[".sector[_ngcontent-%COMP%]{width:100%;height:100%;padding:10px;border-radius:10px;background-color:var(--tg-theme-sector-color);text-align:center;display:flex;align-items:center;justify-content:center}.sector__header[_ngcontent-%COMP%], .sector__body[_ngcontent-%COMP%]{color:var(--tg-theme-text-color)}.sector__body[_ngcontent-%COMP%]{margin-top:10px}"]})}return e})();const tr=["customButton",""],er=["*",[["icon"]]],nr=["*","icon"];let xt=(()=>{class e{get dark(){return"primary"===this.color}get light(){return"secondary"===this.color}constructor(){this.iconPosition="left",this.color="primary",this._customButtom=!0}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["button","customButton",""]],hostVars:6,hostBindings:function(i,o){2&i&&r.ekj("custom-button",o._customButtom)("custom-button--primary",o.dark)("custom-button--secondary",o.light)},inputs:{iconPosition:"iconPosition",color:"color"},attrs:tr,ngContentSelectors:nr,decls:3,vars:2,consts:[[1,"custom-button__wrapper"]],template:function(i,o){1&i&&(r.F$t(er),r.TgZ(0,"span",0),r.Hsn(1),r.Hsn(2,1),r.qZA()),2&i&&r.ekj("custom-button__wrapper__icon-left","left"===o.iconPosition)},styles:[".custom-button{border:none;border-radius:.375rem;font-size:1rem;line-height:.9375rem;cursor:pointer;width:100%;height:3.125rem;padding:.375rem .75rem;display:inline-flex;justify-content:center;align-items:center}.custom-button__wrapper{display:flex;align-items:center}.custom-button__wrapper__icon-left{flex-direction:row-reverse}.custom-button__wrapper__icon-left img{margin:0 .3125rem 0 0}.custom-button__wrapper img{width:1.5rem;height:1.5rem;margin-left:.3125rem}.custom-button:disabled{cursor:not-allowed}.custom-button--primary{color:var(--tg-theme-text-color);background-color:var(--tg-theme-button-color);border-color:#9b344a;font-family:var(--font-bold)}\n"],encapsulation:2})}return e})();function rr(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.qZA()),2&e){const n=r.oxw();r.Tol(n.placeObj.class),r.xp6(1),r.hij(" ",n.place," ")}}let ir=(()=>{class e{get placeObj(){if(!this.place)return{class:"",width:0,height:0};switch(this.place){case 1:return{class:"place place_gold",width:7,height:7};case 2:return{class:"place place_silver",width:6,height:6};case 3:return{class:"place place_bronze",width:5,height:5};default:return{class:"",width:0,height:0}}}constructor(){this.user=new g,this.isTop=!0}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-stat-card"]],inputs:{user:"user",isTop:"isTop",place:"place"},decls:11,vars:7,consts:[[1,"stat-card"],[1,"stat-card__logo"],[3,"displayName","height","width"],[3,"class",4,"ngIf"],[1,"stat-card__user-data"],[1,"stat-card__name"],[1,"stat-card__score"],[1,"stat-card__reward"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"app-avatar",2),r.YNc(3,rr,2,3,"div",3),r.qZA()(),r.TgZ(4,"div",4)(5,"div",5),r._uU(6),r.qZA(),r.TgZ(7,"div",6),r._uU(8),r.qZA(),r.TgZ(9,"div",7),r._uU(10),r.qZA()()()),2&i&&(r.xp6(2),r.Q6J("displayName",o.user.user_name)("height",o.placeObj.height)("width",o.placeObj.width),r.xp6(1),r.Q6J("ngIf",o.isTop),r.xp6(3),r.hij(" ",o.user.user_name," "),r.xp6(2),r.hij(" ",o.user.stars," "),r.xp6(2),r.hij(" ",o.user.stars," "))},dependencies:[w.O5,wt],styles:[".stat-card[_ngcontent-%COMP%]{width:100%;margin:0 auto}.stat-card__user-data[_ngcontent-%COMP%]{padding-top:15%;margin:0 auto}.stat-card__name[_ngcontent-%COMP%]{color:#fff;font-family:var(--font-bold);text-align:center}.stat-card__score[_ngcontent-%COMP%]{color:#fff;font-family:var(--font-bold);text-align:center;position:relative}.stat-card__reward[_ngcontent-%COMP%]{color:#727fbb;font-family:var(--font-bold);text-align:center;position:relative}.place[_ngcontent-%COMP%]{border-radius:50%;display:flex;align-items:center;color:#fff;font-family:var(--font-bold);justify-content:center;width:25px;height:25px;border:3px solid var(--tg-theme-bg-color)}.place_gold[_ngcontent-%COMP%]{background-color:#d4af37}.place_silver[_ngcontent-%COMP%]{background-color:#777}.place_bronze[_ngcontent-%COMP%]{background-color:#cd7f32}"]})}return e})();var or=h(5597);const sr=function(){return["fas","wallet"]};let ar=(()=>{class e{constructor(){this.openPaymentModalEmit=new r.vpe}ngOnInit(){}openPaymentModal(){this.openPaymentModalEmit.emit()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-top"]],inputs:{user:"user"},outputs:{openPaymentModalEmit:"openPaymentModalEmit"},decls:25,vars:7,consts:[[1,"ranking-top"],[1,"ranking-top__leaders"],[1,"ranking-top__card",3,"place"],[1,"ranking-top__stats"],[1,"ranking-top__stat"],["header","",1,"ranking-top__stat-header"],["body","",1,"ranking-top__stat-body"],[3,"icon"],[1,"ranking-top__buttons"],["customButton","","color","primary",3,"click"],["src","/assets/images/Telegram_Star.png","alt","","icon",""]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"app-stat-card",2)(3,"app-stat-card",2)(4,"app-stat-card",2),r.qZA(),r.TgZ(5,"div",3)(6,"app-sector",4)(7,"div",5),r._uU(8," Stars "),r.qZA(),r.TgZ(9,"div",6),r._uU(10),r.qZA()(),r.TgZ(11,"app-sector",4)(12,"div",5),r._uU(13," Your Rank "),r.qZA(),r.TgZ(14,"div",6),r._uU(15),r.qZA()(),r.TgZ(16,"app-sector",4)(17,"div",5),r._uU(18," Add wallet "),r.qZA(),r.TgZ(19,"div",6),r._UZ(20,"fa-icon",7),r.qZA()()(),r.TgZ(21,"div",8)(22,"button",9),r.NdJ("click",function(){return o.openPaymentModal()}),r._uU(23," Boost rank "),r._UZ(24,"img",10),r.qZA()()()),2&i&&(r.xp6(2),r.Q6J("place",2),r.xp6(1),r.Q6J("place",1),r.xp6(1),r.Q6J("place",3),r.xp6(6),r.hij(" ",o.user.stars," "),r.xp6(5),r.hij(" #",o.user.rank," "),r.xp6(5),r.Q6J("icon",r.DdM(6,sr)))},dependencies:[kt,xt,ir,or.BN],styles:[".ranking-top[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center}.ranking-top__leaders[_ngcontent-%COMP%], .ranking-top__stats[_ngcontent-%COMP%], .ranking-top__buttons[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-around}.ranking-top__leaders[_ngcontent-%COMP%]{height:40%;margin-top:5%;justify-content:space-between;align-items:flex-end;padding:0 5%}.ranking-top__card[_ngcontent-%COMP%]{width:32%}.ranking-top__stats[_ngcontent-%COMP%]{width:100%;height:15%;margin-top:5%;justify-content:space-between;padding:0 5%}.ranking-top__stat[_ngcontent-%COMP%]{width:32%;height:100%}.ranking-top__stat-header[_ngcontent-%COMP%]{font-family:var(--font-bold);font-size:12px;color:var(--tg-theme-second-text-color)}.ranking-top__stat-body[_ngcontent-%COMP%]{font-family:var(--font-bold);color:var(--tg-theme-text-color)}.ranking-top__buttons[_ngcontent-%COMP%]{margin-top:5%;height:15%;padding:0 5%}"]})}return e})();function cr(e,t){if(1&e&&(r.TgZ(0,"span",14),r._uU(1),r.qZA()),2&e){const n=r.oxw().$implicit,i=r.oxw();r.xp6(1),r.Oqu(i.formatNumber(n.count))}}function pr(e,t){if(1&e){const n=r.EpF();r.TgZ(0,"div",8)(1,"button",9),r.NdJ("click",function(){const s=r.CHM(n).$implicit,a=r.oxw();return r.KtG(a.currentPrice=s.price)}),r.TgZ(2,"div",10),r.YNc(3,cr,2,1,"span",11),r.TgZ(4,"span",12),r._uU(5),r.qZA(),r.TgZ(6,"span",13),r._uU(7,"Rating"),r.qZA()()()()}if(2&e){const n=t.$implicit,i=r.oxw();r.xp6(1),r.ekj("--current",n.price===i.currentPrice),r.xp6(2),r.Q6J("ngIf",i.action),r.xp6(2),r.Oqu(i.formatNumber(i.action?n.count*i.action:n.count))}}let lr=(()=>{class e{constructor(){this.buyEmit=new r.vpe,this.prices=[{count:5,price:5},{count:2500,price:2500},{count:1e4,price:1e4},{count:3e4,price:3e4},{count:5e4,price:5e4}],this.action=null,this.currentPrice=this.prices[1].price}formatNumber(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}onBuy(){this.buyEmit.emit(this.currentPrice)}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-payment"]],outputs:{buyEmit:"buyEmit"},decls:13,vars:2,consts:[[1,"ranking-payment"],[1,"ranking-payment__header"],[1,"ranking-payment__header-icon"],[1,"ranking-payment__header-title"],[1,"ranking-payment__header-subtitle"],[1,"ranking-payment__body"],["class","ranking-payment__body-select-buttons",4,"ngFor","ngForOf"],["customButton","",1,"ranking-payment__button","rankign-payment__body-buttons-pay",3,"click"],[1,"ranking-payment__body-select-buttons"],["customButton","",1,"ranking-payment__button","ranking-payment__button-select",3,"click"],[1,"ranking-payment__button-body"],["class","ranking-payment__button-body-old-count",4,"ngIf"],[1,"ranking-payment__button-body-count"],[1,"ranking-payment__button-body-title"],[1,"ranking-payment__button-body-old-count"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._uU(3," [Icon] "),r.qZA(),r.TgZ(4,"div",3),r._uU(5," Boost Your Rank "),r.qZA(),r.TgZ(6,"div",4),r._uU(7," You can also boost the rank and earn rating by inviting friends and for completing tasks "),r.qZA()(),r.TgZ(8,"div",5),r.YNc(9,pr,8,4,"div",6),r.TgZ(10,"button",7),r.NdJ("click",function(){return o.onBuy()}),r.TgZ(11,"div"),r._uU(12),r.qZA()()()()),2&i&&(r.xp6(9),r.Q6J("ngForOf",o.prices),r.xp6(3),r.hij("Confrim And Pay [Icon] ",o.formatNumber(o.currentPrice),""))},dependencies:[w.sg,w.O5,xt],styles:[".ranking-payment[_ngcontent-%COMP%]{padding:0 20px}.ranking-payment__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px;color:var(--tg-theme-text-color)}.ranking-payment__header-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.ranking-payment__header-subtitle[_ngcontent-%COMP%]{font-size:18px;text-align:center;padding:0 20px}.ranking-payment__button[_ngcontent-%COMP%]{margin-bottom:15px;box-sizing:border-box}.ranking-payment__button-select[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;height:40px;background-color:var(--tg-theme-sector-color)}.ranking-payment__button-select.--current[_ngcontent-%COMP%]{border:2px solid var(--tg-theme-link-color)}.ranking-payment__button-body-old-count[_ngcontent-%COMP%]{color:var(--tg-theme-second-text-color);text-decoration:line-through;margin-right:10px}.ranking-payment__button-body-count[_ngcontent-%COMP%]{margin-right:5px}"]})}return e})(),ur=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-profile"]],inputs:{user:"user"},decls:15,vars:7,consts:[[1,"ranking-profile"],[1,"ranking-profile__header"],[1,"ranking-profile__header-avatar"],[1,"ranking-item__avatar",3,"displayName","photoURL","height","width"],[1,"ranking-profile__header-username"],[1,"ranking-profile__body"],[1,"ranking-profile__body-sector"],["header","",1,"ranking-top__stat-header"],[1,"div"],["body","",1,"ranking-top__stat-body"]],template:function(i,o){1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._UZ(3,"app-avatar",3),r.qZA(),r.TgZ(4,"div",4),r._uU(5),r.qZA()(),r.TgZ(6,"div",5)(7,"app-sector",6)(8,"div",7)(9,"div",8),r._uU(10),r.qZA()(),r.TgZ(11,"div",9),r._uU(12," Inforamtion "),r.TgZ(13,"div",8),r._uU(14),r.qZA()()()()()),2&i&&(r.xp6(3),r.Q6J("displayName",o.user.user_name)("photoURL",o.user.avatar_url)("height",8)("width",8),r.xp6(2),r.hij(" ",o.user.user_name," "),r.xp6(5),r.hij("",o.user.stars," Stars"),r.xp6(4),r.hij("#",o.user.rank,""))},dependencies:[kt,wt],styles:[".ranking-profile__header-avatar[_ngcontent-%COMP%]{margin-bottom:10px}.ranking-profile__header-username[_ngcontent-%COMP%]{text-align:center;font-size:24px}.ranking-profile__body[_ngcontent-%COMP%]{display:flex;justify-content:center}.ranking-profile__body-sector[_ngcontent-%COMP%]{display:block;width:90%;height:100%}"]})}return e})();function dr(e,t){if(1&e&&(r.TgZ(0,"app-sector",10)(1,"div",11),r._uU(2),r.qZA(),r.TgZ(3,"div",12),r._uU(4),r.qZA()()),2&e){const n=t.$implicit,i=r.oxw();r.ekj("ranking-daily-bonus__body-slide-current",n===i.getCurrentBonus()),r.xp6(2),r.hij(" Day ",n.day," "),r.xp6(2),r.hij(" [Icon] ",n.price," ")}}let hr=(()=>{class e{constructor(){this.closeModalEmit=new r.vpe}getCurrentBonus(){return this.bonusData.bonuses.find(i=>i.day===this.bonusData.current_day)}closeModal(){this.closeModalEmit.emit()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-ranking-daily-bonus"]],inputs:{bonusData:"bonusData"},outputs:{closeModalEmit:"closeModalEmit"},decls:14,vars:2,consts:[[1,"ranking-daily-bonus"],[1,"ranking-daily-bonus__header"],[1,"ranking-daily-bonus__header-icon"],[1,"ranking-daily-bonus__header-title"],[1,"ranking-daily-bonus__header-subtitle"],[1,"ranking-daily-bonus__body"],[1,"ranking-daily-bonus__body-slider"],[1,"ranking-daily-bonus__body-slider-wrapper"],["class","ranking-daily-bonus__body-slide",3,"ranking-daily-bonus__body-slide-current",4,"ngFor","ngForOf"],["customButton","",1,"ranking-daily-bonus__button-get",3,"click"],[1,"ranking-daily-bonus__body-slide"],["header","",1,"ranking-daily-bonus__body-slide-header"],["body","",1,"ranking-daily-bonus__body-slide-body"]],template:function(i,o){if(1&i&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._uU(3," [Icon] "),r.qZA(),r.TgZ(4,"div",3),r._uU(5," Take your daily bonus "),r.qZA(),r.TgZ(6,"div",4),r._uU(7," You got your first-day bonus. Keep open app every day to gain more "),r.qZA()(),r.TgZ(8,"div",5)(9,"div",6)(10,"div",7),r.YNc(11,dr,5,4,"app-sector",8),r.qZA()(),r.TgZ(12,"button",9),r.NdJ("click",function(){return o.closeModal()}),r._uU(13),r.qZA()()()),2&i){let s;r.xp6(11),r.Q6J("ngForOf",o.bonusData.bonuses),r.xp6(2),r.hij(" You got [Icon] ",null==(s=o.getCurrentBonus())?null:s.price," daily bonus ")}},dependencies:[w.sg,kt,xt],styles:[".ranking-daily-bonus__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:45px;color:var(--tg-theme-text-color)}.ranking-daily-bonus__header-icon[_ngcontent-%COMP%]{margin-bottom:10px}.ranking-daily-bonus__header-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}.ranking-daily-bonus__header-subtitle[_ngcontent-%COMP%]{font-size:18px;text-align:center;padding:0 20px}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:15px}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slider[_ngcontent-%COMP%]{margin-bottom:45px;width:100%}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slider-wrapper[_ngcontent-%COMP%]{display:flex;overflow-x:auto;white-space:nowrap;scroll-behavior:smooth;box-sizing:border-box}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide[_ngcontent-%COMP%]{padding:10px;min-width:200px;box-sizing:border-box;margin-right:20px}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide-body[_ngcontent-%COMP%], .ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide-header[_ngcontent-%COMP%]{color:gray}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide-body[_ngcontent-%COMP%]{font-size:24px}.ranking-daily-bonus[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide-current[_ngcontent-%COMP%]   .ranking-daily-bonus__body-slide-body[_ngcontent-%COMP%]{color:#fff}.ranking-daily-bonus__button-get[_ngcontent-%COMP%]{width:90%}"]})}return e})();const _r=["*"];let gr=(()=>{class e{constructor(){this.viewModal=!0,this.closeModalEmit=new r.vpe}closeModal(){this.closeModalEmit.emit()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-modal"]],inputs:{viewModal:"viewModal"},outputs:{closeModalEmit:"closeModalEmit"},ngContentSelectors:_r,decls:6,vars:2,consts:[[1,"modal",3,"click"],[1,"modal__wrapper",3,"click"],[1,"modal__header"],[1,"modal__close-btn",3,"click"]],template:function(i,o){1&i&&(r.F$t(),r.TgZ(0,"div",0),r.NdJ("click",function(){return o.closeModal()}),r.TgZ(1,"div",1),r.NdJ("click",function(a){return a.stopPropagation()}),r.TgZ(2,"div",2)(3,"div",3),r.NdJ("click",function(){return o.closeModal()}),r._uU(4," X "),r.qZA()(),r.Hsn(5),r.qZA()()),2&i&&r.ekj("modal__view",o.viewModal)},styles:[".modal[_ngcontent-%COMP%]{position:absolute;height:100vh;bottom:0;left:0;right:0;z-index:1000;display:none;background-color:#00000059;cursor:pointer}.modal__wrapper[_ngcontent-%COMP%]{background-color:var(--tg-theme-bg-color);height:max-content;border-start-start-radius:15px;border-start-end-radius:15px;padding:8px;cursor:default}.modal__view[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.modal__header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}.modal__close-btn[_ngcontent-%COMP%]{border-radius:50%;background-color:#7676801f;color:var(--tg-theme-second-text-color);cursor:pointer;width:30px;height:30px;display:flex;justify-content:center;align-items:center}"]})}return e})(),mr=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=r.oAB({type:e});static#n=this.\u0275inj=r.cJS({imports:[w.ez,_e.m,Hn]})}return e})();r.B6R(de,[w.O5,gr,Yn,ar,lr,hr,he,ur],[])}}]);